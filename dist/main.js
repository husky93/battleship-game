(()=>{var e={774:(e,t,r)=>{"use strict";r.d(t,{Z:()=>v});var n=r(81),a=r.n(n),i=r(645),o=r.n(i),l=r(667),c=r.n(l),s=new URL(r(959),r.b),p=new URL(r(492),r.b),d=new URL(r(704),r.b),u=o()(a()),f=c()(s),h=c()(p),y=c()(d);u.push([e.id,"@font-face {\n  font-family: 'Rectaxel';\n  src: url("+f+") format('opentype');\n  font-weight: bold;\n  font-style: normal;\n}\n\n@font-face {\n  font-family: 'PlaymegamesReguler';\n  src: url("+h+") format('truetype');\n  font-weight: 400;\n  font-style: normal;\n}\n\n:root {\n  --primary: #4C5C67;\n  --primary-light: #84A0B3;\n  --primary-dark: #262E33;\n  --grey-light: #c8d0e7;\n  --board-color: #383685;\n  --white: #fff;\n  --red-light: #D14136;\n  --red-dark: #451512;\n  --red-hover: #912D26;\n  --red: #852922;\n  --green-light: #47c27a;\n  --green: #308553;\n  --flipper-height: 50px;\n  --flipper-width: 160px;\n  --flipper-spacing: 15px;\n  --flipper-transition-speed: 0.25s;\n  --btn-height: 35px;\n}\n\n* {\n  box-sizing: border-box;\n}\n\nbody {\n  margin: 0;\n  position: relative;\n  min-height: 100vh;\n  color: #fff;\n  font-family: 'PlaymegamesReguler';\n}\n\nbody::before {\n  content: \"\";\n  position:absolute;\n  top:0;\n  left:0;\n  width:100%;\n  height:100%;\n  background-image: url("+y+');\n  background-size: cover;\n}\n\n.content {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n  background: rgb(17,18,20);\n  background: linear-gradient(0deg, rgba(17,18,20,0.97) 0%, rgba(25,28,31,0.95) 100%);\n}\n\n.btn {\n  font-family: \'PlaymegamesReguler\';\n  font-size: 16px;\n  padding: 12px 36px;\n  border: none;\n  cursor:pointer;\n  height: var(--btn-height);\n}\n\n.btn--primary {\n  display: block;\n  font-size: 16px;\n  text-align: center;\n  line-height: 7px;\n  text-decoration: none;\n  color: var(--white);\n  background-color: var(--red);\n  border-radius: 4px;\n  text-shadow: 0 -1px -1px var(--red-dark);\n  box-shadow:     0 4px 0 var(--red-dark),\n  0 5px 5px 1px rgba(12, 22, 27, 1);\n  transition: all .15s ease-in-out;\n}\n\n.btn--primary:hover {\n  background-color: var(--red-hover);\n  text-shadow:0 -1px -1px var(--red);\n}\n\n.btn--primary:active {\n  margin-top: 3px;\n  box-shadow: none;\n}\n\n.btn--primary:disabled {\n  background-color: var(--red-dark);\n  color: #9f9f9f;\n  margin-top: 3px;\n  box-shadow: none;\n}\n\n.btn--primary.active {\n  margin-top: 3px;\n  box-shadow: none;\n}\n\n.orient-toggler {\n  display: flex;\n}\n\n.btn-toggle-left {\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n}\n\n.btn-toggle-right {\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n}\n\n.main {\n  min-height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  max-width: 1200px;\n  margin: 0 auto;\n  flex: 1;\n}\n\n.header {\n  text-align: center;\n  font-family: \'Rectaxel\';\n  font-size: 32px;\n  margin-bottom: 36px;\n}\n\nfooter {\n  padding: 48px;\n  text-align: center;\n}\n\n.footer-link {\n  color: var(--primary-light);\n}\n\n.place-wrapper {\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n  gap: 64px;\n}\n\n.place-wrapper .gameboard {\n  align-self: flex-start;\n}\n\n.drag-wrapper {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 24px;\n  flex: 1;\n}\n\n.rules-wrapper {\n  flex: 1;\n}\n\n.drag {\n  background-color: rgba(59, 58, 82, 0.33);\n  -webkit-box-shadow: 2px 2px 3px 0px rgba(12, 22, 27, 1);\n  -moz-box-shadow: 2px 2px 3px 0px rgba(12, 22, 27, 1);\n  box-shadow: 2px 2px 3px 0px rgba(12, 22, 27, 1);\n  padding: 28px;\n  min-width: 225px;\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  flex-grow: 1;\n}\n\n.drag.drag--vertical {\n  flex-direction: row;\n  align-items: flex-start;\n}\n\n.place-info {\n  margin: 0;\n  font-size: 30px;\n}\n\n.place-ui {\n  display: flex;\n  justify-content: center;\n  padding: 64px 0;\n  gap: 24px;\n}\n\n.gameboard, .row, .tile, .ship-tile {\n  user-drag: none;\n  -webkit-user-drag: none;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n}\n\n.gameboard {\n  -webkit-box-shadow: 0px 0px 50px 1px rgba(56, 54, 133, 1);\n  -moz-box-shadow: 0px 0px 50px 1px rgba(56, 54, 133, 1);\n  box-shadow: 0px 0px 50px 1px rgba(56, 54, 133, 1);\n  z-index: 5;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  border-style: solid;\n  border-width: 2px 3px 3px 2px;\n  border-color: var(--primary-light);\n}\n\n.row {\n  display: flex;\n}\n\n.tile {\n  background-color: var(--board-color);\n  z-index: 1;\n  width: 40px;\n  height: 40px;\n  border-left: 1px var(--primary-light) solid;\n  border-top: 1px var(--primary-light) solid;\n  transition: all cubic-bezier(0.86, 0, 0.07, 1) .25s;\n}\n\n.gameboard--place {\n  margin: 0 24px;\n}\n\n.gameboard--place .tile {\n  transition: none;\n}\n\n.gameboard--p2 .tile {\n  cursor: crosshair;\n}\n\n.gameboard--p2 .tile:hover {\n  background-color: var(--green);\n}\n.gameboard--p2 .tile--hit:hover {\n  background-color: var(--board-color);\n}\n.gameboard--p2 .tile--hitship:hover {\n  background-color: var(--red);\n}\n\n.tile.tile--ship {\n  background-color: var(--primary);\n  box-shadow: inset 2px 2px 4px var(--primary-light),\n              inset -2px -2px 4px var(--primary-dark);\n  border-left: 1px var(--primary-light) solid;\n  border-top: 1px var(--primary-light) solid;\n}\n\n.tile.tile--hit {\n  position: relative;\n  -webkit-box-shadow: inset 0px 0px 2px 0px rgba(200, 208, 231, 1);\n  -moz-box-shadow: inset 0px 0px 2px 0px rgba(200, 208, 231, 1);\n  box-shadow: inset 0px 0px 2px 0px rgba(200, 208, 231, 1);\n}\n\n.tile.tile--hitship {\n  position: relative;\n  background-color: var(--red);\n  box-shadow: inset 2px 2px 4px var(--red-light),\n  inset -2px -2px 4px var(--red-dark);\n}\n\n.tile::after {\n  content: "";\n  visibility: hidden;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 0;\n  position: absolute;\n  margin: 0;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  text-align: center;\n  font-size: 36px;\n  color: var(--white);\n  transform: scale(1.4);\n  transition: opacity cubic-bezier(0.86, 0, 0.07, 1) .25s, transform 0.65s;;\n}\n\n.tile--hitship::after {\n  content: "X";\n  visibility: visible;\n  transform: scale(1);\n  opacity: 1;\n}\n\n.tile--hit::after {\n  content: "✸";\n  visibility: visible;\n  transform: scale(1);\n  opacity: 1;\n  font-size: 14px;\n}\n\n.tile .ship.draggable .ship-tile:nth-child(1)::after {\n  content: "✋";\n  color: var(--primary-light);\n  position: absolute;\n  width: 100%;\n  top: 50%;\n  transform: translateY(-50%);\n  text-align: center;\n  font-size: 18px;\n}\n\n.ship-tile {\n  position:relative;\n  width: 40px;\n  height: 40px;\n  background-color: var(--primary);\n  box-shadow: inset 2px 2px 4px var(--primary-light),\n              inset -2px -2px 4px var(--primary-dark);\n  border-left: 1px var(--primary-light) solid;\n  border-top: 1px var(--primary-light) solid;\n  z-index: 20;\n}\n\n.has-ship {\n  background-color: var(--primary);\n  box-shadow: inset 2px 2px 4px var(--primary-light),\n              inset -2px -2px 4px var(--primary-dark);\n              border-left: 1px var(--primary-light) solid;\n              border-top: 1px var(--primary-light) solid;\n}\n\n.ship {\n  display: flex;\n  transition: opacity 0.1s ease-out;\n  width: min-content;\n  border-right: 1px var(--primary-light) solid;\n  border-bottom: 1px var(--primary-light) solid;\n}\n\n.ship.vertical {\n  flex-direction: column;\n  transition: opacity 0.1s ease-out;\n}\n\n.ship.draggable {\n  cursor: move;\n}\n\n.tile.over {\n  border: 2px dotted var(--primary-light);\n}\n\n.game-wrapper {\n  display: flex;\n  justify-content: center;\n  padding: 84px 0;\n}\n\n/* Game mid */\n\n.mid-wrapper {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  margin: 0 48px;\n}\n\n.go-wrapper {\n  margin-top: 24px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 12px;\n}\n\n.heading-go {\n  font-size: 32px;\n  margin: 12px;\n}\n\n.text-go {\n  font-size: 18px;\n}\n\n.rules-text {\n  white-space: nowrap;\n}\n\n/* Flipper */\n\n.flipper {\n  position: relative;\n  width: var(--flipper-width);\n  height: var(--flipper-height);\n  margin: 0 var(--flipper-spacing);\n  perspective: 1000px;\n}\n\n.flipper-card {\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  transform-style: preserve-3d;\n  transform: translateZ(calc(-(var(--flipper-height) / 2)));\n  transition: transform var(--flipper-transition-speed);\n}\n\n.flipper-card::before, .flipper-card::after {\n  justify-content: center;\n  align-items: center;\n  margin: 0;\n  text-align: center;\n  width: var(--flipper-width);\n  height: var(--flipper-height);\n  position: absolute;\n  border: 3px solid black;\n  box-sizing: border-box;\n  content: attr(title);\n  display: flex;\n}\n\n.flipper-card::before {\n  background-color: var(--green);\n  border-color: var(--green-light);\n  color: var(--white);\n  transform: rotateY(0deg) translateZ(calc(var(--flipper-height) / 2));\n}\n\n.flipper-card::after {\n  background-color: var(--red);\n  border-color: var(--red-light);\n  color: var(--white);\n  transform: rotateX(90deg) translateZ(calc(var(--flipper-height) / 2));\n}\n\n.flipper-card.flipped {\n  transform: translateZ(calc((-1 * (var(--flipper-height) / 2)))) rotateX(-90deg);\n\n}',""]);const v=u},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",n=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),n&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),n&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,n,a,i){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(n)for(var l=0;l<this.length;l++){var c=this[l][0];null!=c&&(o[c]=!0)}for(var s=0;s<e.length;s++){var p=[].concat(e[s]);n&&o[p[0]]||(void 0!==i&&(void 0===p[5]||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=i),r&&(p[2]?(p[1]="@media ".concat(p[2]," {").concat(p[1],"}"),p[2]=r):p[2]=r),a&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=a):p[4]="".concat(a)),t.push(p))}},t}},667:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},81:e=>{"use strict";e.exports=function(e){return e[1]}},798:function(e,t,r){e=r.nmd(e),function(r,n){"use strict";var a={};r.PubSub?(a=r.PubSub,console.warn("PubSub already loaded, using existing version")):(r.PubSub=a,function(e){var t={},r=-1;function n(e,t,r){try{e(t,r)}catch(e){setTimeout(function(e){return function(){throw e}}(e),0)}}function a(e,t,r){e(t,r)}function i(e,r,i,o){var l,c=t[r],s=o?a:n;if(Object.prototype.hasOwnProperty.call(t,r))for(l in c)Object.prototype.hasOwnProperty.call(c,l)&&s(c[l],e,i)}function o(e){var r=String(e);return Boolean(Object.prototype.hasOwnProperty.call(t,r)&&function(e){var t;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}(t[r]))}function l(e,t,r,n){var a=function(e,t,r){return function(){var n=String(e),a=n.lastIndexOf(".");for(i(e,e,t,r);-1!==a;)a=(n=n.substr(0,a)).lastIndexOf("."),i(e,n,t,r);i(e,"*",t,r)}}(e="symbol"==typeof e?e.toString():e,t,n);return!!function(e){for(var t=String(e),r=o(t)||o("*"),n=t.lastIndexOf(".");!r&&-1!==n;)n=(t=t.substr(0,n)).lastIndexOf("."),r=o(t);return r}(e)&&(!0===r?a():setTimeout(a,0),!0)}e.publish=function(t,r){return l(t,r,!1,e.immediateExceptions)},e.publishSync=function(t,r){return l(t,r,!0,e.immediateExceptions)},e.subscribe=function(e,n){if("function"!=typeof n)return!1;e="symbol"==typeof e?e.toString():e,Object.prototype.hasOwnProperty.call(t,e)||(t[e]={});var a="uid_"+String(++r);return t[e][a]=n,a},e.subscribeAll=function(t){return e.subscribe("*",t)},e.subscribeOnce=function(t,r){var n=e.subscribe(t,(function(){e.unsubscribe(n),r.apply(this,arguments)}));return e},e.clearAllSubscriptions=function(){t={}},e.clearSubscriptions=function(e){var r;for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&0===r.indexOf(e)&&delete t[r]},e.countSubscriptions=function(e){var r,n,a=0;for(r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&0===r.indexOf(e)){for(n in t[r])a++;break}return a},e.getSubscriptions=function(e){var r,n=[];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&0===r.indexOf(e)&&n.push(r);return n},e.unsubscribe=function(r){var n,a,i,o="string"==typeof r&&(Object.prototype.hasOwnProperty.call(t,r)||function(e){var r;for(r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&0===r.indexOf(e))return!0;return!1}(r)),l=!o&&"string"==typeof r,c="function"==typeof r,s=!1;if(!o){for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(a=t[n],l&&a[r]){delete a[r],s=r;break}if(c)for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&a[i]===r&&(delete a[i],s=!0)}return s}e.clearSubscriptions(r)}}(a)),void 0!==e&&e.exports&&(t=e.exports=a),t.PubSub=a,e.exports=t=a}("object"==typeof window&&window||this)},379:e=>{"use strict";var t=[];function r(e){for(var r=-1,n=0;n<t.length;n++)if(t[n].identifier===e){r=n;break}return r}function n(e,n){for(var i={},o=[],l=0;l<e.length;l++){var c=e[l],s=n.base?c[0]+n.base:c[0],p=i[s]||0,d="".concat(s," ").concat(p);i[s]=p+1;var u=r(d),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==u)t[u].references++,t[u].updater(f);else{var h=a(f,n);n.byIndex=l,t.splice(l,0,{identifier:d,updater:h,references:1})}o.push(d)}return o}function a(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,a){var i=n(e=e||[],a=a||{});return function(e){e=e||[];for(var o=0;o<i.length;o++){var l=r(i[o]);t[l].references--}for(var c=n(e,a),s=0;s<i.length;s++){var p=r(i[s]);0===t[p].references&&(t[p].updater(),t.splice(p,1))}i=c}}},569:e=>{"use strict";var t={};e.exports=function(e,r){var n=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,r)=>{"use strict";e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var a=void 0!==r.layer;a&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,a&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var i=r.sourceMap;i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},492:(e,t,r)=>{"use strict";e.exports=r.p+"bd0214e5ec0dcdf28f30.ttf"},959:(e,t,r)=>{"use strict";e.exports=r.p+"a276b2d0b513a581f5f4.otf"},704:(e,t,r)=>{"use strict";e.exports=r.p+"499cac9a1a04166c8acd.jpg"}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.m=e,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),r.b=document.baseURI||self.location.href,r.nc=void 0,(()=>{"use strict";var e=r(798),t=r.n(e),n=r(379),a=r.n(n),i=r(795),o=r.n(i),l=r(569),c=r.n(l),s=r(565),p=r.n(s),d=r(216),u=r.n(d),f=r(589),h=r.n(f),y=r(774),v={};function b(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}v.styleTagTransform=h(),v.setAttributes=p(),v.insert=c().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=u(),a()(y.Z,v),y.Z&&y.Z.locals&&y.Z.locals;const x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!1,r=e.isAI||!1,n=[];function a(){t=!t}var i=function(e,t){var r=e.x,n=e.y;return[n-1>=0?{tile:t.board[n-1][r],direction:"up"}:null,r+1<=9?{tile:t.board[n][r+1],direction:"right"}:null,n+1<=9?{tile:t.board[n+1][r],direction:"down"}:null,r-1>=0?{tile:t.board[n][r-1],direction:"left"}:null]},o=function(e,t,r){var n=i(e,t),a=null;return n.forEach((function(e){null===e||e.tile.isHit||(a=e.tile)})),null!==a&&null===r?(t.receiveAttack({x:a.x,y:a.y}),a):null};function l(e){if(void 0===e||"object"!==g(e)||Array.isArray(e)||null===e)throw new Error("Need to specify gameboard object as an argument");if(t){var r=null,a=[];if(e.board.forEach((function(e){var t=e.filter((function(e){return!e.isHit}));a=[].concat(b(a),b(t))})),n.forEach((function(t){t.ship&&i(t,e).forEach((function(t){if(null!==t&&t.tile.isHit&&t.tile.ship){var n=t.direction;0!==n.localeCompare("up")&&0!==n.localeCompare("down")||(t.tile.y+1<=9&&!e.board[t.tile.y+1][t.tile.x].isHit&&null===r&&(e.receiveAttack({x:t.tile.x,y:t.tile.y+1}),r=e.board[t.tile.y+1][t.tile.x]),t.tile.y-1>=0&&!e.board[t.tile.y-1][t.tile.x].isHit&&null===r&&(e.receiveAttack({x:t.tile.x,y:t.tile.y-1}),r=e.board[t.tile.y-1][t.tile.x])),0!==n.localeCompare("left")&&0!==n.localeCompare("right")||(t.tile.x-1>=0&&!e.board[t.tile.y][t.tile.x-1].isHit&&null===r&&(e.receiveAttack({x:t.tile.x-1,y:t.tile.y}),r=e.board[t.tile.y][t.tile.x-1]),t.tile.x+1<=9&&!e.board[t.tile.y][t.tile.x+1].isHit&&null===r&&(e.receiveAttack({x:t.tile.x+1,y:t.tile.y}),r=e.board[t.tile.y][t.tile.x+1]))}}))})),null!==r)return n.push(r),{x:r.x,y:r.y};if(n.forEach((function(t){t.ship&&(r=o(t,e,r))})),null!==r)return n.push(r),{x:r.x,y:r.y};var l=a[Math.floor(Math.random()*a.length)];return e.receiveAttack({x:l.x,y:l.y}),n.push(l),{x:l.x,y:l.y}}return null}return{get isMyTurn(){return t},get isAI(){return r},changeTurn:a,playMoveAI:l}};function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const S=function(){var e=[];!function(){for(var t=0;t<10;t+=1){for(var r=[],n=0;n<10;n+=1){var a={ship:null,index:null,orientation:null,isHit:!1,isTaken:!1,x:n,y:t};r.push(a)}e.push(r)}}();var t=function(t,r){return!!e[r][t].isTaken},r=function(r,n){if(t(n.x,n.y))return!1;for(var a=0;a<r.length;a+=1){var i=n.horizontally?n.x+a:n.x,o=n.horizontally?n.y:n.y+a,l=null;if(i<=9&&i>=0&&o<=9&&o>=0&&(l=e[o][i]),l&&t(l.x,l.y))return!1}return!0};function n(e,t){var n=9;if(arguments.length<2)throw new Error("Too few arguments entered. It needs to be ship nad options objects");if(t.x>n||t.y>n)throw new Error("You're trying to place ship out of gameboard bounds");if(void 0===t.x||void 0===t.y)throw new Error("Specify both x axis and y axis coordinates");if(void 0===t.horizontally&&void 0===t.vertically||t.horizontally&&t.vertically)throw new Error("Specify one ship placement direction");if(t.horizontally&&t.x+e.length-1>n||t.vertically&&t.y+e.length-1>n)throw new Error("You're trying to place ship out of gameboard bounds");if(!r(e,t))throw new Error("You cannot place ship on this square")}var a=function(t,r,n){var a=t.length,i=null,o=null;n-1>=0&&(i=e[n-1][r]),n+a<=9&&(o=e[n+a][r]),i&&(i.isTaken=!0),o&&(o.isTaken=!0);for(var l=0;l<a;l+=1){var c=e[n+l][r];c.orientation="vertically",c.ship=t,c.index=l,c.isTaken=!0}for(var s=-1;s<a+1;s+=1)n+s>=0&&n+s<=9&&r+1<=9&&(e[n+s][r+1].isTaken=!0),n+s>=0&&n+s<=9&&r-1>=0&&(e[n+s][r-1].isTaken=!0)},i=function(t,r,n){var a=t.length,i=null,o=null;r-1>=0&&(i=e[n][r-1]),r+a<=9&&(o=e[n][r+a]),i&&(i.isTaken=!0),o&&(o.isTaken=!0);for(var l=0;l<a;l+=1){var c=e[n][r+l];c.orientation="horizontally",c.ship=t,c.index=l,c.isTaken=!0}for(var s=-1;s<a+1;s+=1)r+s>=0&&r+s<=9&&n+1<=9&&(e[n+1][r+s].isTaken=!0),r+s>=0&&r+s<=9&&n-1>=0&&(e[n-1][r+s].isTaken=!0)},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(e,t);var r=t.x,o=t.y;t.vertically&&a(e,r,o),t.horizontally&&i(e,r,o)};return{get board(){return e},placeShip:o,isAllShipsSunk:function(){var t,r=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(l)throw i}}}}(e);try{for(r.s();!(t=r.n()).done;)if(!t.value.filter((function(e){return null!==e.ship})).every((function(e){return e.ship.isSunk()})))return!1}catch(e){r.e(e)}finally{r.f()}return!0},receiveAttack:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(void 0===t.x||void 0===t.y)throw new Error("Specify both x axis and y axis coordinates");var r=t.x,n=t.y,a=e[n][r];return!a.isHit&&(a.isHit=!0,a.ship&&a.ship.hit(a.index),!0)},placeShipsRandomly:function t(n){e.forEach((function(e){e.forEach((function(e){var t=e;t.ship=null,t.index=null,t.isHit=!1,t.isTaken=!1}))}));var a=[].concat(e),i=Array.prototype.concat.apply([],a);n.every((function(e){var n=Math.floor(2*Math.random()),a=e.length,l=0===n?"vertically":"horizontally",c=[];if(i.forEach((function(t){var n=t.x,i=t.y,o=0===l.localeCompare("horizontally")&&n+a-1>9||0===l.localeCompare("vertically")&&i+a-1>9;r(e,E({x:n,y:i},l,!0))&&!o&&c.push(t)})),0===c.length)return t(),!1;var s=Math.floor(Math.random()*c.length),p=c[s];return o(e,E({x:p.x,y:p.y},l,!0)),!0}))}}},A=function(e){if(void 0===e)throw new Error('No arguments specified. Needs to have a "length" argument');if(e<2||e>5)throw new Error("Length argument cannot be lesser than 2 or greater then 5");var t=[];return function(){for(var r=0;r<e;r+=1)t.push(0)}(),{get length(){return e},get hitBox(){return t},hit:function(r){if(void 0===r)throw new Error('No arguments specified. Needs to have a "index" argument');if("number"!=typeof r||r%1!=0)throw new Error("Specified index attribute needs to be an integer number");if(r+1>e)throw new Error("index attribute cannot be greater then Ship object length attribute");t[r]=1},isSunk:function(){return e=!0,t.forEach((function(t){e=e&&!!t})),e;var e}}};var L,T,k,O,I,P,M=(L={player:null,gameboard:null},T={player:null,gameboard:null},k=!0,O=function(e){e.forEach((function(e){var t,r,n=e.length,a=e.x,i=e.y,o=(!0,(r=e.vertically?"vertically":"horizontally")in(t={x:a,y:i})?Object.defineProperty(t,r,{value:true,enumerable:!0,configurable:!0,writable:!0}):t[r]=true,t);L.gameboard.placeShip(A(n),o)})),T.gameboard.placeShipsRandomly([A(5),A(4),A(3),A(3),A(2)])},I=function(){var e=L.gameboard.isAllShipsSunk(),t=T.gameboard.isAllShipsSunk();return e||t},P=function(e,r){var n=e.orientation,a=e.index,i=e.ship.length,o=[];if(0===n.localeCompare("horizontally"))for(var l=0===a?e:r.board[e.y][e.x-a],c=l.x,s=l.y,p=-1;p<i+1;p+=1)s-1>=0&&c+p>=0&&c+p<=9&&!r.board[s-1][c+p].isHit&&(r.receiveAttack({x:c+p,y:s-1}),o.push({x:c+p,y:s-1})),c+p>=0&&c+p<=9&&!r.board[s][c+p].isHit&&(r.receiveAttack({x:c+p,y:s}),o.push({x:c+p,y:s})),s+1<=9&&c+p>=0&&c+p<=9&&!r.board[s+1][c+p].isHit&&(r.receiveAttack({x:c+p,y:s+1}),o.push({x:c+p,y:s+1}));if(0===n.localeCompare("vertically"))for(var d=0===a?e:r.board[e.y-a][e.x],u=d.x,f=d.y,h=-1;h<i+1;h+=1)u-1>=0&&f+h>=0&&f+h<=9&&!r.board[f+h][u-1].isHit&&(r.receiveAttack({x:u-1,y:f+h}),o.push({x:u-1,y:f+h})),f+h>=0&&f+h<=9&&!r.board[f+h][u].isHit&&(r.receiveAttack({x:u,y:f+h}),o.push({x:u,y:f+h})),u+1<=9&&f+h>=0&&f+h<=9&&!r.board[f+h][u+1].isHit&&(r.receiveAttack({x:u+1,y:f+h}),o.push({x:u+1,y:f+h}));t().publish("SHIP SUNK",{game:M,coords:o})},{startGame:function(e){L.player=null,T.player=null,L.gameboard=null,T.gameboard=null,k=!0,k=!1,L.player=x(),T.player=x({isAI:!0}),L.gameboard=S(),T.gameboard=S(),L.player.changeTurn(),O(e)},playTurn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(L.player.isMyTurn&&("number"!=typeof e.x||"number"!=typeof e.y))throw new Error("Specify coordinates for non-ai player");var r=null;if(L.player.isMyTurn){var n=T.gameboard,a=e.x,i=e.y;n.receiveAttack({x:a,y:i}),r=n.board[i][a]}if(T.player.isMyTurn){var o=L.gameboard,l=T.player.playMoveAI(o),c=l.x,s=l.y;r=o.board[s][c],t().publish("AI MOVE PLAYED",r)}if(I())return t().publish("GAME OVER",M),k=!0,!0;if(r.ship&&r.ship.isSunk()){var p=L.player.isMyTurn?T.gameboard:L.gameboard;P(r,p)}r.ship||(L.player.changeTurn(),T.player.changeTurn()),t().publish("TURN PLAYED",M)},get playerOne(){return L},get playerTwo(){return T},get gameOver(){return k}});const R=M;function z(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var j,D={createWrapper:j=function(e,t){var r=z(e).slice(0),n=document.createElement("".concat(t));return r.forEach((function(e){return n.classList.add(e)})),n},createImg:function(e,t){var r=z(e).slice(0),n=new Image;return n.src=t,r.forEach((function(e){return n.classList.add(e)})),n},createBoardTile:function(e,t){var r=document.createElement("div");return r.classList.add("tile"),r.dataset.x=e,r.dataset.y=t,r},createButton:function(e,t){var r=z(e),n=r.slice(0),a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=document.createElement("button");return n.forEach((function(e){return i.classList.add(e)})),i.textContent=t,a.type&&(i.type=a.type),a.disabled&&(i.disabled=!0),i},createDraggableShip:function(e,t){var r=j(["ship","draggable"],"div");t&&r.classList.add("vertical"),r.dataset.width=e,r.draggable=!0;for(var n=0;n<e;n+=1){var a=j(["ship-tile"],"div");r.appendChild(a)}return r},createHeading:function(e,t,r){var n=z(e).slice(0),a=document.createElement("".concat(t));return n.forEach((function(e){return a.classList.add(e)})),a.textContent=r,a},createParagraph:function(e,t){var r=z(e).slice(0),n=document.createElement("p");return r.forEach((function(e){return n.classList.add(e)})),n.textContent=t,n}};const q=D,H=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=q.createWrapper(["gameboard","gameboard--".concat(e)],"div");return t.forEach((function(e){var t=q.createWrapper(["row"],"div");e.forEach((function(e){var n=q.createBoardTile(e.x,e.y);e.ship&&r.showShip&&n.classList.add("tile--ship"),t.appendChild(n)})),n.appendChild(t)})),n};function G(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?N(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var W=function(){var e,r=q.createWrapper(["container","drag"],"div"),n="horizontal",a=null,i=!1,o=[],l=function(e,t,r,n){for(var a=0;a<r;a+=1){var i=document.querySelector("[data-x='".concat(e+a,"'][data-y='").concat(t,"']"));i&&n.add&&i.classList.add("has-ship"),i&&n.remove&&i.classList.remove("has-ship")}for(var o=-1;o<r+1;o+=1){var l=document.querySelector("[data-x='".concat(e+o,"'][data-y='").concat(t,"']"));if(l&&n.add&&l.classList.add("active"),l&&n.remove&&l.classList.remove("active"),t-1>=0){var c=document.querySelector("[data-x='".concat(e+o,"'][data-y='").concat(t-1,"']"));c&&n.add&&c.classList.add("active"),c&&n.remove&&c.classList.remove("active")}if(t+1<=9){var s=document.querySelector("[data-x='".concat(e+o,"'][data-y='").concat(t+1,"']"));s&&n.add&&s.classList.add("active"),s&&n.remove&&s.classList.remove("active")}}},c=function(e,t,r,n){for(var a=0;a<r;a+=1){var i=document.querySelector("[data-x='".concat(e,"'][data-y='").concat(t+a,"']"));i&&n.add&&i.classList.add("has-ship"),i&&n.remove&&i.classList.remove("has-ship")}for(var o=-1;o<r+1;o+=1){var l=document.querySelector("[data-x='".concat(e,"'][data-y='").concat(t+o,"']"));if(l&&n.add&&l.classList.add("active"),l&&n.remove&&l.classList.remove("active"),e-1>=0){var c=document.querySelector("[data-x='".concat(e-1,"'][data-y='").concat(t+o,"']"));c&&n.add&&c.classList.add("active"),c&&n.remove&&c.classList.remove("active")}if(e+1<=9){var s=document.querySelector("[data-x='".concat(e+1,"'][data-y='").concat(t+o,"']"));s&&n.add&&s.classList.add("active"),s&&n.remove&&s.classList.remove("active")}}},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=parseInt(e.dataset.width,10),n=e.parentElement,a=parseInt(n.dataset.x,10),i=parseInt(n.dataset.y,10);e.classList.contains("vertical")||l(a,i,r,t),e.classList.contains("vertical")&&c(a,i,r,t)},p=function(){var e=document.querySelectorAll(".ship"),t=document.querySelectorAll(".tile"),a=document.querySelector(".start");e.forEach((function(e){e.remove(),r.appendChild(e),e.classList.contains("vertical")&&e.classList.remove("vertical"),r.classList.remove("drag--vertical")})),t.forEach((function(e){e.classList.remove("active"),e.classList.remove("has-ship")})),n="horizontal",a.disabled=!0},d=function(){var e=document.querySelectorAll(".ship"),t=[];return e.forEach((function(e){var r={length:parseInt(e.dataset.width,10),vertically:e.classList.contains("vertical"),horizontally:!e.classList.contains("vertical"),x:parseInt(e.parentElement.dataset.x,10),y:parseInt(e.parentElement.dataset.y,10)};t.push(r)})),t},u=function(){t().publish("SHIPS PLACED",d())};function f(t){this.style.opacity="0",this.style.zIndex="0",i=!1,e=this,a=t.srcElement.dataset.width,t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("text/html",this.outerHTML)}function h(t){var r,o;n=this.classList.contains("vertical")?"vertical":"horizontal",this.style.opacity="0",this.style.zIndex="0",i=!1,e=this,a=t.srcElement.dataset.width,t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("text/html",this.outerHTML),r=this,o=G(document.querySelectorAll(".tile .ship")).filter((function(e){return!e.isSameNode(r)})),s(r,{remove:!0}),o.forEach((function(e){return s(e,{add:!0})}))}function y(e){var t=document.querySelector(".btn-toggle-orient.active");n=t.textContent,this.style.opacity="1",this.style.zIndex="20",o.forEach((function(e){e.classList.remove("over")})),"none"!==e.dataTransfer.dropEffect&&i?(this.remove(),0===r.childNodes.length&&u()):this.parentElement.classList.contains("tile")&&s(this,{add:!0})}function v(e){return e.preventDefault(),!1}function b(e){this.classList.add("over")}function m(e){this.classList.remove("over")}var g=function(e){e.removeEventListener("dragstart",f),e.addEventListener("dragstart",h),e.addEventListener("dragend",y)},x=function(e,t,r){return"horizontal"===n&&e+r-1>9||"vertical"===n&&t+r-1>9},w=function(e,t){if(e.classList.contains("active"))return!1;for(var r=parseInt(e.dataset.x,10),a=parseInt(e.dataset.y,10),i=0;i<t;i+=1){var o="horizontal"===n?r+i:r,l="horizontal"===n?a:a+i,c=document.querySelector('.tile[data-x="'.concat(o,'"][data-y="').concat(l,'"]'));if(c&&c.classList.contains("active"))return!1}return!0};function E(t){t.stopPropagation(),this.classList.remove("over");var r=parseInt(this.dataset.x,10),n=parseInt(this.dataset.y,10),o=parseInt(a,10);if(e!==this&&w(this,o)&&!x(r,n,o)){i=!0,e.innerHTML=this.innerHTML,this.innerHTML=t.dataTransfer.getData("text/html"),t.dataTransfer.clearData();var l=this.firstElementChild;s(l,{add:!0}),this.firstElementChild.style.opacity="1",this.firstElementChild.style.zIndex="20",g(l)}return!1}return{createDragDrop:function(e){var t=q.createDraggableShip(5),n=q.createDraggableShip(4),a=q.createDraggableShip(3),i=q.createDraggableShip(3),l=q.createDraggableShip(2);return o=[t,n,a,i,l],r.classList.contains("drag--vertical")&&r.classList.remove("drag--vertical"),function(e){var t=e.querySelectorAll(".tile");o.forEach((function(e){e.addEventListener("dragstart",f),e.addEventListener("dragend",y)})),t.forEach((function(e){e.addEventListener("dragover",v),e.addEventListener("dragenter",b),e.addEventListener("dragleave",m),e.addEventListener("drop",E)}))}(e),o.forEach((function(e){e.classList.contains("vertical")&&e.classList.remove("vertical")})),r.append(t,n,a,i,l),r},reset:p,switchMode:function(e){n=e;var t=r.childNodes;"vertical"===e&&(t.forEach((function(e){return e.classList.add("vertical")})),r.classList.add("drag--vertical")),"horizontal"===e&&(t.forEach((function(e){return e.classList.remove("vertical")})),r.classList.remove("drag--vertical"))},placeRandomly:function e(){p();var t=G(r.querySelectorAll(".ship")),a=document.querySelectorAll(".tile");t.every((function(t){var r=Math.floor(2*Math.random()),i=parseInt(t.dataset.width,10),o=[];if(1===r?(t.classList.add("vertical"),n="vertical"):n="horizontal",a.forEach((function(e){var t=parseInt(e.dataset.x,10),r=parseInt(e.dataset.y,10);w(e,i)&&!x(t,r,i)&&o.push(e)})),0===o.length)return e(),!1;var l=Math.floor(Math.random()*o.length),c=o[l];return t.remove(),c.appendChild(t),g(t),s(t,{add:!0}),!0})),u()},getPlacementData:d}}();const B=W;var U,Y,Z=(U=document.querySelector(".main"),Y=function(){for(;U.lastElementChild;)U.removeChild(U.lastElementChild)},{renderPlace:function(){Y();var e,r,n,a,i,o,l=S(),c=function(){var e=q.createWrapper(["header"],"header"),t=q.createHeading(["h1"],"h1","BATTLESHIPS");return e.append(t),e}(),s=q.createWrapper(["place-wrapper"],"div"),p=H("place",l.board),d=q.createWrapper(["drag-wrapper"],"div"),u=q.createHeading(["place-info"],"h3","Drag and drop:"),f=B.createDragDrop(p),h=(e=q.createWrapper(["rules-wrapper"],"div"),r=q.createHeading(["place-info"],"h3","Rules:"),n=q.createParagraph(["rules-text"],"1. All ships must be at least 1 square apart."),a=q.createParagraph(["rules-text"],"2. You lose your turn when you miss."),i=q.createParagraph(["rules-text"],"3. You keep the turn when you hit a ship."),o=q.createParagraph(["rules-text"],"4. Whoever sinks all ships first - wins."),e.append(r,n,a,i,o),e),y=q.createWrapper(["place-ui"],"div"),v=q.createWrapper(["container","orient-toggler"],"div"),b=q.createButton(["btn","btn--primary","btn-horizontal","btn-toggle-left","btn-toggle-orient"],"horizontal"),m=q.createButton(["btn","btn--primary","btn-vertical","btn-toggle-right","btn-toggle-orient"],"vertical"),g=q.createButton(["btn","btn--primary","reset"],"Reset"),x=q.createButton(["btn","btn--primary","random"],"Random"),w=q.createButton(["btn","btn--primary","start"],"Start",{disabled:!0});b.classList.toggle("active"),v.append(b,m),y.append(g,x,w),d.append(u,f,v),s.append(d,p,h),U.append(c,s,y),t().publish("PLACE RENDERED",{container:y,reset:B.reset,switchMode:B.switchMode,placeRandomly:B.placeRandomly})},renderGame:function(e,r,n){Y();var a=q.createWrapper(["game-wrapper"],"div"),i=q.createWrapper(["mid-wrapper"],"div"),o=function(){var e=q.createWrapper(["flipper"],"div"),t=q.createWrapper(["flipper-card","flipper-player"],"div");return t.title="Your turn!",e.append(t),e}(),l=H("p1",n.playerOne.gameboard.board,{showShip:!0}),c=H("p2",n.playerTwo.gameboard.board);i.appendChild(o),a.append(l,i,c),U.appendChild(a),t().publish("GAME RENDERED",n)},renderGameOver:function(e,r){var n=document.querySelector(".mid-wrapper"),a=q.createWrapper(["go-wrapper"],"div"),i=q.createHeading(["heading-go"],"h2","Game Over"),o=r.playerOne.gameboard.isAllShipsSunk()?"Computer wins":"You win",l=q.createParagraph(["text-go"],o),c=q.createWrapper(["game-over-ui"],"div"),s=q.createButton(["btn","btn--primary","start-again"],"Restart Game");c.appendChild(s),a.append(i,l,c),n.appendChild(a),t().publish("GAME OVER RENDERED",s)}});const $=Z;var V,_,F,X,K,J,Q=(V=null,_=function(e,t){e.addEventListener("click",t)},F=function(e,t,r){e.addEventListener("click",(function(){r(e.textContent),e.classList.add("active"),t.classList.remove("active")}))},X=function(){t().publish("START NEW GAME")},K=function(e){var t=e.currentTarget.game,r=parseInt(e.target.dataset.x,10),n=parseInt(e.target.dataset.y,10),a=t.playerTwo.gameboard.board[n][r].isHit,i=t.playerTwo.gameboard.board[n][r].ship;t.playerOne.player.isMyTurn&&!a&&(t.playTurn({x:r,y:n}),i?e.target.classList.add("tile--hitship"):e.target.classList.add("tile--hit"))},J=function(e,t){var r=document.querySelector(".flipper-card");t?r.classList.add("flipped"):r.classList.remove("flipped"),r.title=e},{handlePlaceRendered:function(e,r){var n,a=r.container,i=a.querySelector(".reset"),o=a.querySelector(".random"),l=document.querySelector(".btn-horizontal"),c=document.querySelector(".btn-vertical"),s=a.querySelector(".start");(n=s).addEventListener("click",(function(){n.disabled||t().publish("GAME STARTED")})),_(i,r.reset),_(o,r.placeRandomly),F(l,c,r.switchMode),F(c,l,r.switchMode)},handleGameRendered:function(e,t){document.querySelector(".gameboard--p2").querySelectorAll(".tile").forEach((function(e){return function(e,t){var r=e;r.addEventListener("click",K),r.game=t}(e,t)}))},handleShipsPlaced:function(e,t){var r=document.querySelector(".start");V=t,r.disabled=!1},handleGameStart:function(e,t,r){r.startGame(V)},handleTurnPlayed:function(e,t){t.playerTwo.player.isMyTurn&&(J("Computer turn!",!0),new Promise((function(e){setTimeout(e,500)})).then((function(){t.playTurn()}))),t.playerOne.player.isMyTurn&&J("Your turn!")},handleAITurnPlayed:function(e,t){var r=document.querySelector(".gameboard--p1").querySelector('.tile[data-x="'.concat(t.x,'"][data-y="').concat(t.y,'"]'));t.ship?r.classList.add("tile--hitship"):r.classList.add("tile--hit")},handleGameOver:function(e,t){document.querySelector(".gameboard--p2").querySelectorAll(".tile").forEach((function(e){return function(e,t){e.removeEventListener("click",K)}(e)}))},handleGameOverRender:function(e,t){t.addEventListener("click",X)},handleShipSunk:function(e,t){var r=t.game;t.coords.forEach((function(e){r.playerOne.player.isMyTurn&&document.querySelector('.gameboard--p2 .tile[data-x="'.concat(e.x,'"][data-y="').concat(e.y,'"]')).classList.add("tile--hit"),r.playerTwo.player.isMyTurn&&document.querySelector('.gameboard--p1 .tile[data-x="'.concat(e.x,'"][data-y="').concat(e.y,'"]')).classList.add("tile--hit")}))}});const ee=Q;t().subscribe("PLACE RENDERED",ee.handlePlaceRendered),t().subscribe("SHIPS PLACED",ee.handleShipsPlaced),t().subscribe("GAME STARTED",(function(e,t){return ee.handleGameStart(e,t,R)})),t().subscribe("GAME STARTED",(function(e,t){return $.renderGame(e,t,R)})),t().subscribe("GAME RENDERED",ee.handleGameRendered),t().subscribe("TURN PLAYED",ee.handleTurnPlayed),t().subscribe("AI MOVE PLAYED",ee.handleAITurnPlayed),t().subscribe("SHIP SUNK",ee.handleShipSunk),t().subscribe("GAME OVER",ee.handleGameOver),t().subscribe("GAME OVER",$.renderGameOver),t().subscribe("GAME OVER RENDERED",ee.handleGameOverRender),t().subscribe("START NEW GAME",$.renderPlace),$.renderPlace()})()})();